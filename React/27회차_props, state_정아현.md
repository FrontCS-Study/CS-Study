# props와 state



### ⚡ props

컴포넌트는 데이터를 가진 하나의 'props' 객체 인자를 받은 후 React 엘리먼트를 반환한다. 이때 **props는 속성을 나타내는 데이터**이다.

**props는 부모 컴포넌트에서 자식 컴포넌트로 전달하는 데이터**이다. **직접적으로 수정할 수 없는 값으로, 읽기 전용**이다. 또한 컴포넌트의 속성으로, 해당 컴포넌트를 불러와 사용하는 부모 컴포넌트에서만 설정 가능하다. 

props는 컴포넌트를 불변적으로 만들어주기 때문에, 컴포넌트 간에 데이터를 전달하거나 컴포넌트를 재사용하는 데에 매우 유용하다.

props는 불변(immutable)하며, 컴포넌트 내에서 수정할 수 없다. props를 전달하려면 부모 컴포넌트에서 자식 컴포넌트로 데이터를 전달해야 한다. 자식 컴포넌트에서 props를 사용할 때는 `this.props`를 사용하거나 함수형 컴포넌트에서 인자로 전달받는다.



### ⚡ state

**state**는 **컴포넌트 내부의 동적 데이터**를 의미한다. props는 부모 컴포넌트가 설정하는 값으로 컴포넌트 자신은 props를 읽기 전용으로만 사용할 수 있다.

state를 사용하는 방식에는 컴포넌트의 종류에 따라 두 가지가 있다. **클래스형 컴포넌트에서는 컴포넌트 자체가 state를 지니는 방식**으로 사용한다. **함수형 컴포넌트에서는 useState 함수, Hook을 통해 사용**한다.

state는 컴포넌트 내부에서 관리되는 값으로 **변경가능**하다. 이 값은 컴포넌트가 렌더링되는 동안 변할 수 있으며, 변경될 때마다 컴포넌트가 다시 렌더링된다. 즉, 리액트에서 state는 컴포넌트 내에서 관리되는 상태 데이터이며, 컴포넌트 내부에서 변경할 수 있고, **컴포넌트의 렌더링 결과를 결정**한다.

여러개의 자식으로부터 데이터를 모으거나 두 개의 자식 컴포넌트들이 서로 통신하게 하기 위해서 조상 컴포넌트에 state를 정의한다. 조상 컴포넌트가 props를 사용해 자식 컴포넌트에 state를 다시 전달함으로 서로 동기화한다.
두 컴포넌트 간 sate값을 동기화 하는 일, state를 공유하는 일은 그 state값을 필요로 하는 컴포넌트 간의 가장 가까운 공통 조상 컴포넌트로 state를 끌어올림으로 가능하다. 
=> **💡여러개의 컴포넌트 간의 state를 동기화 시키기 보다, 공통 조상으로 끌어올려 하향식 데이터 흐름을 이용하자!**



### ❓ props와 state의 차이점

리액트에서 props와 state는 둘 다 컴포넌트에서 데이터를 다루는 데 사용되지만, 목적과 사용 방법에서 차이가 있다.

props는 부모 컴포넌트에서 자식 컴포넌트로 전달되는 읽기 전용 데이터이다. props는 함수의 매개변수나 클래스형 컴포넌스의 `this.props` 객체를 통해 사용할 수 있다. props는 변경되지 않으며, 자식 컴포넌트에서 전달받은 데이터를 사용해 렌더링한다.

state는 컴포넌트 내부에서 관리되는 변경 가능한 데이터이다. state는 클래스형 컴포넌트에서 `this.state` 객체를 통해 사용할 수 있으며, `setState()` 메소드를 사용해 변경할 수 있다. state의 변경은 `render()` 메서드를 트리거하고 UI를 업데이트한다.

=> **💡 props는 읽기 전용 데이터를 전달하는 데 사용되며, state는 컴포넌트 내부에서 변경 가능한 데이터를 관리하는데 사용된다.**

|                  | State                            | Props                                  |
| ---------------- | -------------------------------- | -------------------------------------- |
| 소유             | 컴포넌트 내부                    | 컴포넌트 외부                          |
| 변경 가능성      | 변경 가능                        | 읽기 전용                              |
| 데이터 전달 방식 | 컴포넌트 내부에서 처리           | 부모 컴포넌트에서 자식 컴포넌트로 전달 |
| 범위             | 컴포넌트 내부                    | 컴포넌트 내부와 외부 모두              |
| 초기값 설정      | constructor 메소드 내부에서 설정 | 부모 컴포넌트에서 전달                 |



### 🙄 궁금한 점

props 값은 자식 컴포넌트 내부에서 변경할 수 없고 넘겨받은 그대로 사용해야 한다. 근데, setState를 내려서 자식 컴포넌트에서 사용해 값을 변경하면 부모의 값도 변경이 되는데, 이게 올바른 방식일까..? 일단 이렇게 많이 사용했는데,,,,, 흠,.



## Reference

- [[개발] React 에서 props와 state의 차이](https://steemit.com/hive-141202/@realmankwon/react-props-state)
- [[React] Component와 props, state](https://velog.io/@soyi47/React-Component-props-state)
- [React의 state와 props](https://suzzeong.tistory.com/133)